(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,a,t){},16:function(e,a,t){},17:function(e,a,t){},18:function(e,a,t){"use strict";t.r(a);var n=t(1),o=t.n(n),r=t(7),i=t.n(r),l=t(2),c=t(0),d=t(3),s=t(4),u=(t(15),function(e){var a=Object(n.useState)(null),t=Object(l.a)(a,2),r=t[0],i=t[1],d=Object(n.useRef)();Object(n.useEffect)(function(){if(d.current){var a=d.current.getDiagram();return a instanceof c.f&&(i(a),a.addDiagramListener("ChangedSelection",e.onDiagramChange),a.addDiagramListener("ExternalObjectsDropped",e.onDiagramChange)),function(){if(!d.current){var a=d.current.getDiagram();a instanceof c.f&&(i(null),a.removeDiagramListener("ChangedSelection",e.onDiagramChange),a.removeDiagramListener("ExternalObjectsDropped",e.onDiagramChange))}}}},[d,e.onDiagramChange]);return o.a.createElement("div",{className:"gojs-wrapper-div"},o.a.createElement(s.c,{initPalette:function(){return(0,c.h.make)(c.l)},divClassName:"palette-component",nodeDataArray:[{key:0,text:"Alpha"}]}),o.a.createElement(s.a,{ref:d,divClassName:"diagram-component",initDiagram:function(){var e=c.h.make,a={parameter1:2,spot1:c.r.TopLeft,spot2:c.r.BottomRight},t=e(c.f,{"animationManager.initialAnimationStyle":c.c.None,InitialAnimationStarting:function(e){var a=e.subject.defaultAnimation;a.easing=c.b.EaseOutExpo,a.duration=900,a.add(e.diagram,"scale",.1,1),a.add(e.diagram,"opacity",0,1)},"toolManager.mouseWheelBehavior":c.t.WheelZoom,"clickCreatingTool.archetypeNodeData":{text:"new node"},"undoManager.isEnabled":!0,positionComputation:function(e,a){return new c.o(Math.floor(a.x),Math.floor(a.y))},model:new c.g({linkKeyProperty:"key"})});return t.addDiagramListener("Modified",function(e){var a=document.getElementById("SaveButton");a&&(a.disabled=!t.isModified);var n=document.title.indexOf("*");t.isModified?n<0&&(document.title+="*"):n>=0&&(document.title=document.title.slice(0,n))}),t.nodeTemplate=e(c.j,"Auto",{locationSpot:c.r.Top,isShadowed:!0,shadowBlur:1,shadowOffset:new c.o(0,1),shadowColor:"rgba(0, 0, 0, .14)"},new c.d("location","loc",c.o.parse).makeTwoWay(c.o.stringify),e(c.p,"RoundedRectangle",new c.d("fill","color",function(e){return e||"#ffffff"}),a,{name:"SHAPE",fill:"#ffffff",strokeWidth:0,stroke:null,portId:"",fromLinkable:!0,fromLinkableSelfNode:!0,fromLinkableDuplicates:!0,toLinkable:!0,toLinkableSelfNode:!0,toLinkableDuplicates:!0,cursor:"pointer"}),e(c.s,{font:"bold small-caps 11pt helvetica, bold arial, sans-serif",margin:7,stroke:"rgba(0, 0, 0, .87)",editable:!0},new c.d("text").makeTwoWay())),t.nodeTemplate.selectionAdornmentTemplate=e(c.a,"Spot",e(c.m,"Auto",e(c.p,"RoundedRectangle",a,{fill:null,stroke:"#7986cb",strokeWidth:3}),e(c.n)),e("Button",{alignment:c.r.TopRight,click:function(e,a){var t=a.part,n=e.diagram;n.startTransaction("Add State");var o=t.adornedPart,r=o.data,i={text:"new"},l=o.location.copy();l.x+=200,i.loc=c.o.stringify(l);var d=n.model;d.addNodeData(i);var s={from:d.getKeyForNodeData(r),to:d.getKeyForNodeData(i),text:"transition"};d.addLinkData(s);var u=n.findNodeForData(i);n.select(u),n.commitTransaction("Add State"),n.scrollToRect(u.actualBounds)}},e(c.p,"PlusLine",{width:6,height:6}))),t.nodeTemplateMap.add("Start",e(c.j,"Spot",{desiredSize:new c.q(75,75)},new c.d("location","loc",c.o.parse).makeTwoWay(c.o.stringify),e(c.p,"Circle",{fill:"#52ce60",stroke:null,portId:"",fromLinkable:!0,fromLinkableSelfNode:!0,fromLinkableDuplicates:!0,toLinkable:!0,toLinkableSelfNode:!0,toLinkableDuplicates:!0,cursor:"pointer"}),e(c.s,"Start",{font:"bold 16pt helvetica, bold arial, sans-serif",stroke:"whitesmoke"}))),t.nodeTemplateMap.add("End",e(c.j,"Spot",{desiredSize:new c.q(75,75)},new c.d("location","loc",c.o.parse).makeTwoWay(c.o.stringify),e(c.p,"Circle",{fill:"maroon",stroke:null,portId:"",fromLinkable:!0,fromLinkableSelfNode:!0,fromLinkableDuplicates:!0,toLinkable:!0,toLinkableSelfNode:!0,toLinkableDuplicates:!0,cursor:"pointer"}),e(c.p,"Circle",{fill:null,desiredSize:new c.q(65,65),strokeWidth:2,stroke:"whitesmoke"}),e(c.s,"End",{font:"bold 16pt helvetica, bold arial, sans-serif",stroke:"whitesmoke"}))),t.linkTemplate=e(c.i,{curve:c.i.Bezier,adjusting:c.i.Stretch,reshapable:!0,relinkableFrom:!0,relinkableTo:!0,toShortLength:3},new c.d("points").makeTwoWay(),new c.d("curviness"),e(c.p,{strokeWidth:1.5},new c.d("stroke","progress",function(e){return e?"#52ce60":"black"}),new c.d("strokeWidth","progress",function(e){return e?2.5:1.5})),e(c.p,{toArrow:"standard",stroke:null},new c.d("fill","progress",function(e){return e?"#52ce60":"black"})),e(c.m,"Auto",e(c.p,{fill:e(c.e,"Radial",{0:"rgb(245, 245, 245)",.7:"rgb(245, 245, 245)",1:"rgba(245, 245, 245, 0)"}),stroke:null}),e(c.s,"transition",{textAlign:"center",font:"9pt helvetica, arial, sans-serif",margin:4,editable:!0},new c.d("text").makeTwoWay()))),console.log("-----------------",t),t},nodeDataArray:e.nodeDataArray,linkDataArray:e.linkDataArray,modelData:e.modelData,onModelChange:e.onModelChange,skipsDiagramUpdate:e.skipsDiagramUpdate}),o.a.createElement(s.b,{initOverview:function(){return(0,c.h.make)(c.k,{contentAlignment:c.r.Center})},divClassName:"overview-component",observedDiagram:r}))}),f=function(e){var a=Object(n.useState)(e.value),t=Object(l.a)(a,2),r=t[0],i=t[1],c=function(a){e.onInputChange(e.id,a.target.value,"blur"===a.type)};return Object(n.useEffect)(function(){var a=e.value;"loc"===e.id&&(a=function(e){var a=e.split(" ");if(2===a.length){var t=parseFloat(a[0]),n=parseFloat(a[1]);if(!isNaN(t)&&!isNaN(n))return"".concat(t.toFixed(0)," ").concat(n.toFixed(0))}return e}(e.value)),i(a)},[e.value,e.id]),o.a.createElement("tr",null,o.a.createElement("td",null,e.id),o.a.createElement("td",null,o.a.createElement("input",{disabled:"key"===e.id,value:r,onChange:c,onBlur:c})))},m=(t(16),function(e){return n.createElement("div",{id:"myInspectorDiv",className:"inspector"},n.createElement("table",null,n.createElement("tbody",null,function(){var a=e.selectedData,t=[];for(var o in a){var r=a[o],i=n.createElement(f,{key:o,id:o,value:r,onInputChange:e.onInputChange});"key"===o?t.unshift(i):t.push(i)}return t}())))}),p=(t(17),function(){var e=Object(n.useState)({nodeDataArray:[{key:0,text:"Alpha",color:"lightblue",loc:"0 0"},{key:1,text:"Beta",color:"orange",loc:"150 0"},{key:2,text:"Gamma",color:"lightgreen",loc:"0 150"},{key:3,text:"Delta",color:"pink",loc:"150 150"}],linkDataArray:[{key:-1,from:0,to:1},{key:-2,from:0,to:2},{key:-3,from:1,to:1},{key:-4,from:2,to:3},{key:-5,from:3,to:0}],modelData:{canRelink:!0},selectedData:null,skipsDiagramUpdate:!1}),a=Object(l.a)(e,2),t=a[0],r=a[1],i=Object(n.useState)(),s=Object(l.a)(i,2),f=s[0],p=s[1],k=new Map,g=new Map;function h(e){k.clear(),e.forEach(function(e,a){k.set(e.key,a)})}function y(e){g.clear(),e.forEach(function(e,a){g.set(e.key,a)})}h(t.nodeDataArray),y(t.linkDataArray);var D=Object(n.useCallback)(function(e,a,t){r(Object(d.a)(function(n){var o=n.selectedData;if(o[e]=a,t){var r=o.key;if(r<0){var i=g.get(r);void 0!==i&&i>=0&&(n.linkDataArray[i]=o,n.skipsDiagramUpdate=!1)}else{var l=k.get(r);void 0!==l&&l>=0&&(n.nodeDataArray[l]=o,n.skipsDiagramUpdate=!1)}}}))},[g,k]);return Object(n.useEffect)(function(){var e;null!==t.selectedData&&(e=o.a.createElement(m,{selectedData:t.selectedData,onInputChange:D}),p(e))},[t.selectedData,D]),o.a.createElement("div",null,o.a.createElement("p",null,"Try moving around nodes, editing text, relinking, undoing (Ctrl-Z), etc. within the diagram and you'll notice the changes are reflected in the inspector area. You'll also notice that changes made in the inspector are reflected in the diagram. If you use the React dev tools, you can inspect the React state and see it updated as changes happen."),o.a.createElement("p",null,"Check out the"," ",o.a.createElement("a",{href:"https://gojs.net/alpha/intro/react.html",target:"_blank",rel:"noopener noreferrer"},"Intro page on using GoJS with React")," ","for more information."),o.a.createElement(u,{nodeDataArray:t.nodeDataArray,linkDataArray:t.linkDataArray,modelData:t.modelData,skipsDiagramUpdate:t.skipsDiagramUpdate,onDiagramChange:function(e){switch(e.name){case"ChangedSelection":var a=e.subject.first();r(Object(d.a)(function(e){if(a){if(a instanceof c.j){var t=k.get(a.key);if(void 0!==t&&t>=0){var n=e.nodeDataArray[t];e.selectedData=n}}else if(a instanceof c.i){var o=g.get(a.key);if(void 0!==o&&o>=0){var r=e.linkDataArray[o];e.selectedData=r}}}else e.selectedData=null}));break;case"ExternalObjectsDropped":var t=e.subject.first();alert("Dropped key: ".concat(t.data.key,", text: ").concat(t.data.text))}},onModelChange:function(e){if(null!==e){var a=e.insertedNodeKeys,t=e.modifiedNodeData,n=e.removedNodeKeys,o=e.insertedLinkKeys,i=e.modifiedLinkData,l=e.removedLinkKeys,c=e.modelData,s=new Map,u=new Map;r(Object(d.a)(function(e){var r=e.nodeDataArray;t&&t.forEach(function(a){s.set(a.key,a);var t=k.get(a.key);console.log("nodeKey",t,a),void 0!==t&&t>=0&&(r[t]=a,e.selectedData&&e.selectedData.key===a.key&&(e.selectedData=a))}),a&&a.forEach(function(e){var a=s.get(e),t=k.get(e);console.log("nodeKey",t,a),a&&void 0===t&&(k.set(a.key,r.length),r.push(a))}),n&&(r=r.filter(function(e){return!n.includes(e.key)}),e.nodeDataArray=r,h(r));var d=e.linkDataArray;i&&i.forEach(function(a){u.set(a.key,a);var t=g.get(a.key);console.log("linkKey",t),void 0!==t&&t>=0&&(d[t]=a,e.selectedData&&e.selectedData.key===a.key&&(e.selectedData=a))}),o&&o.forEach(function(e){var a=u.get(e),t=g.get(e);console.log("linkKey",t),a&&void 0===t&&(g.set(a.key,d.length),d.push(a))}),l&&(d=d.filter(function(e){return!l.includes(e.key)}),e.linkDataArray=d,y(d)),c&&(e.modelData=c),e.skipsDiagramUpdate=!0}))}}}),o.a.createElement("label",null,"Allow Relinking?",o.a.createElement("input",{type:"checkbox",id:"relink",checked:t.modelData.canRelink,onChange:function(e){var a=e.target.checked;r({modelData:{canRelink:a},skipsDiagramUpdate:!1})}})),f)});i.a.render(o.a.createElement(p,null),document.getElementById("root"))},8:function(e,a,t){e.exports=t(18)}},[[8,1,2]]]);
//# sourceMappingURL=main.f7d1d15c.chunk.js.map